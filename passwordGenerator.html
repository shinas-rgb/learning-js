<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <h1>Welcome to password generator</h1>
    <h2>Tick the checkboxes</h2>

    <input type="checkbox" id="lowerCaseBox" name="" value="">
    <label for="">Lower case</label><br>
     <input type="checkbox" id="upperCaseBox" name="" value="">
    <label for="">Upper case</label><br>
     <input type="checkbox" id="numbersBox" name="" value="">
    <label for="">Numbers</label><br>
    <input type="checkbox" id="symbolsBox" name="" value="">
    <label for="">Symbols</label><br>

    <p>Enter the length of password</p>
    <label id="currentValue">12</label>
    <input type="range" min="8" max="32" value="12" class="slider" id="rangeSlider" name="" value=""><br><br>

    <button type="" id="submitBtn">Submit</button>

    <p id="resultPara"></p>
    <script>
      const lowerCaseBox = document.getElementById("lowerCaseBox");
      const upperCaseBox = document.getElementById("upperCaseBox");
      const numbersBox = document.getElementById("numbersBox");
      const symbolsBox = document.getElementById("symbolsBox");
      const resultPara = document.getElementById("resultPara");
      const rangeSlider = document.getElementById("rangeSlider");
      const currentValue = document.getElementById("currentValue");

      rangeSlider.oninput = function(){
        currentValue.textContent = rangeSlider.value;
      }

      const lowerLetters = "abcdefghijklmnopqrstuvwxyz";
      const upperLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      const numbers = "1234567890";
      const symbols = "@#$%&()_-+=";

      let allowedChars = "";
      let password = "";

      submitBtn.onclick = function() {
        allowedChars += lowerCaseBox.checked ? lowerLetters : "";
        allowedChars += upperCaseBox.checked ? upperLetters : "";
        allowedChars += numbersBox.checked ? numbers : "";
        allowedChars += symbolsBox.checked ? symbols : "";
        const lengthOfPass = rangeSlider.value;

        if(lowerCaseBox.checked == false && upperCaseBox.checked == false && numbersBox.checked == false && symbolsBox.checked == false ){
          resultPara.textContent = "Please select atleast one check box";
        }else {
          console.log(allowedChars);
          let remainLength = lengthOfPass;
          console.log(allowedChars.length);
          while(remainLength != 0){
            const randomIndex = Math.floor(Math.random() * allowedChars.length);
            console.log(randomIndex);
            password += allowedChars[randomIndex];
            remainLength --;
          }
          console.log(lowerCaseBox.checked);
          console.log(password);
          resultPara.textContent = `Here's your password: ${password}`;
        }
      }
    </script>
  </body>
</html>
